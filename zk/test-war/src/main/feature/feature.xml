<?xml version="1.0" encoding="UTF-8"?>
<features name="cornerstone-test-war-${project.version}"
          xmlns="http://karaf.apache.org/xmlns/features/v1.4.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.4.0">

  <repository>mvn:au.id.raboczi.cornerstone/zk/9.0.0/xml/features</repository>

  <feature name="cornerstone-test-war" version="${project.version}" description="Cornerstone test web application">
    <feature prerequisite="true">rxjava</feature>
    <feature prerequisite="true">war</feature>
    <feature prerequisite="true">zk</feature>
    <bundle>mvn:au.id.raboczi.cornerstone/zk-support/${project.version}</bundle>
    <bundle>wrap:mvn:org.zkoss.addons/rxzk/0.8.0$<!--
        -->Bundle-SymbolicName=org.zkoss.addons.rxzk&amp;<!--
        -->Bundle-Version=0.8.0&amp;<!--
        -->Export-Package=org.zkoss.addons.rxzk;version=0.8.0</bundle>
    <bundle>mvn:org.osgi/org.osgi.service.useradmin/1.1.0</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/service-api/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/test-service-api/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/test-service/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/user-service-api/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/user-service/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/zk-support/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/test-service-zk/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/user-service-zk/${project.version}</bundle>
    <bundle>webbundle:mvn:au.id.raboczi.cornerstone/test-war/${project.version}/war?Web-ContextPath=cornerstone-test-war</bundle>
  </feature>

  <feature name="rxjava" version="3.0.0.RC7" description="Reactive extensions for Java">
    <bundle>mvn:org.reactivestreams/reactive-streams/1.0.3</bundle>
    <bundle>mvn:io.reactivex.rxjava2/rxjava/2.2.17</bundle>
    <bundle>mvn:io.reactivex.rxjava3/rxjava/3.0.0-RC7</bundle>
  </feature>
</features>
