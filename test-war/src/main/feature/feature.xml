<?xml version="1.0" encoding="UTF-8"?>
<features name="cornerstone-test-war-${project.version}"
          xmlns="http://karaf.apache.org/xmlns/features/v1.4.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.4.0">

  <feature name="cornerstone-test-war" version="${project.version}" description="Cornerstone test web application">
    <feature prerequisite="true">rxjava</feature>
    <feature prerequisite="true">war</feature>
    <feature prerequisite="true">zk-war</feature>
    <bundle>mvn:au.id.raboczi.cornerstone/test-service-api/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/test-service/${project.version}</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/zk/${project.version}</bundle>
    <bundle>webbundle:mvn:au.id.raboczi.cornerstone/test-war/${project.version}/war?Web-ContextPath=cornerstone-test-war</bundle>
  </feature>

  <feature name="rxjava" version="3.0.0" description="Reactive extensions for Java">
    <bundle>mvn:org.reactivestreams/reactive-streams/1.0.3</bundle>
    <bundle>mvn:io.reactivex.rxjava3/rxjava/3.0.0-RC7</bundle>
  </feature>

  <feature name="zk-war" version="${zk.version}" description="Adds Zk support for WAR applications">
    <feature prerequisite="true">war</feature>
    <bundle>mvn:org.javassist/javassist/3.26.0-GA</bundle>
    <bundle>wrap:mvn:bsh/bsh/1.3.0$<!--
        -->Bundle-SymbolicName=bsh.bsh&amp;<!--
        -->Bundle-Version=1.3.0</bundle>
    <bundle>mvn:commons-io/commons-io/2.6</bundle>
    <bundle>mvn:commons-fileupload/commons-fileupload/1.4</bundle>
    <bundle>wrap:mvn:org.zkoss.zkforge.el/zcommons-el/1.1.0$<!--
        -->Bundle-SymbolicName=org.zkoss.zkforge.el.zcommons-el&amp;<!--
        -->Bundle-Version=1.1.0&amp;<!--
        -->Export-Package=*;version=1.1.0</bundle>
    <bundle>wrap:mvn:org.zkoss.common/zcommon/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.common.zcommon&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.common/zel/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.common.zel&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.common/zweb/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.common.zweb&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.theme/iceblue_c/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.theme.iceblue_c&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.zk/zk/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.zk&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.zk/zhtml/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.zk.zhtml&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.zk/zul/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.zk.zul&amp;<!--
        -->Bundle-Version=${zk.version.osgi}&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>mvn:au.id.raboczi.cornerstone/zk/${project.version}</bundle>
  </feature>

  <feature name="zk-themes-war" version="${zk.version}" description="Adds ZK themes for WAR applications">
    <bundle>wrap:mvn:org.zkoss.theme/breeze/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.theme.breeze&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.theme/sapphire/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.theme.sapphire&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
    <bundle>wrap:mvn:org.zkoss.theme/silvertail/${zk.version}$<!--
        -->Bundle-SymbolicName=org.zkoss.theme.silvertail&amp;<!--
        -->Export-Package=*;version=${zk.version.osgi}&amp;<!--
        -->Fragment-Host=org.ops4j.pax.web.pax-web-extender-war;bundle-version=%22[7.2,8)%22</bundle>
  </feature>

</features>
